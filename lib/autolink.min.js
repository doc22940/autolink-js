/*! autolink-js 2018-10-02 */
"use strict";(function(){var a=this,b=a.AutoLink,c=function(){var a=this;return a.stripProtocols=!0,a.tagFill="",a.autoTitle=!0,a.maxLength=30,a},d=function(a,b,c,d,e,k,l){for(var m=a.toLowerCase(),n=0,o=!0,p="",q=!0,r=0,s="",t="",u="",v="",w="",x=0;n<a.length&&o;){q=!0,b.lastIndex=n;var y=b.exec(m);if(y){var z=y.index,r=y[0].length;s=a.substr(n,z-n),t=a.substr(z,r),u=a.substr(0,z),v=a.substr(z+r),w=s+t,x=w.length;var A=u.split(/<\/a>/i),B=A.pop();B.match(/<a\s/i)&&(g("fail 1 at "+n),q=!1,n+=x,p+=w)}else o=!1,q=!1;if(q&&u.length&&(u.match(/[\s\(\[\{>]$/)||(g("fail 2 at "+n+" ("+u+")"),q=!1,n+=x,p+=w)),q){var C=/^([a-z0-9\-\.\/\-_%~!?=,:;&+*#@\(\)\$]+)/i,D=C.exec(v);if(D){var E=t+D[1];for(n+=E.length+s.length,p+=s,E=h(E);E.match(/[.,!;:?]$/);)E=E.substr(0,E.length-1),n--;E.match(/^(\)|^)[^\(]+\)$/)&&(E=E.substr(0,E.length-1),n--),E.match(/^(\]|^)[^\[]+\]$/)&&(E=E.substr(0,E.length-1),n--),E.match(/^(\}|^)[^\{]+\}$/)&&(E=E.substr(0,E.length-1),n--);var F=E,G=E;if(c&&(F=c+F),l){var H=new RegExp("^(http|https)://","i"),I=H.exec(G);I&&(G=G.substr(I[1].length+3))}G=j(G,d);var J=e;G!=F&&!J.match(/title=/i)&&k&&(F.match(new RegExp("https?://"+f(G),"i"))||(J+=' title="'+F+'"'));var K=i(F),L=i(G);p+='<a href="'+K+'"'+J+">"+L+"</a>"}else g("fail 3 at "+n),q=!1,n+=x,p+=w}}return p+=a.substr(n)},e=function(a,b){for(var c='[^()<>@,;:\\\\".\\[\\]\\x00-\\x20\\x7f]+',d="("+c+"(\\."+c+")*)",e=new RegExp("^"+d),f=new RegExp(d+"$"),g=a.toLowerCase(),h=0,i=!0,j="",k="",l="",m="",n="",o=0;h<a.length&&i;){var p=!0,q=g.indexOf("@",h);if(q===-1)i=!1,p=!1;else{k=a.substr(h,q-h),l=a.substr(q,1),m=a.substr(q+1),n=k+l,o=n.length;var r=k.split(/<\/a>/i),s=r.pop();s.match(/<a\s/i)&&(p=!1,h+=o,j+=n)}if(p){var t=k.match(f);if(t){var u=t[1].length,v=k.length;l=k.substr(v-u)+l,k=k.substr(0,v-u)}else p=!1,h+=o,j+=n}if(p){var t=m.match(e);if(t){var u=t[1].length;l+=m.substr(0,u),m=m.substr(u)}else p=!1,h+=o,j+=n}p&&(h+=k.length+l.length,j+=k,j+='<a href="mailto:'+l+'"'+b+">"+l+"</a>")}return j+=a.substr(h)},f=function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},g=function(a){},h=function(a){return a.replace(/&(quot|gt|lt|amp|\#([0-9]+)|\#x([0-9a-f]+));/gi,function(a,b,c,d){return"quot"==b.toLowerCase()?'"':"gt"==b.toLowerCase()?">":"lt"==b.toLowerCase()?"<":"amp"==b.toLowerCase()?"&":c?String.fromCharCode(parseInt(c)):d?String.fromCharCode(parseInt(d,16)):void 0})},i=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},j=function(a,b){return b&&a.length>b?a.substr(0,b-3)+"...":a};c.prototype.link=function(a){return a=d(a,new RegExp("[a-z][a-z-]+://","ig"),null,this.maxLength,this.tagFill,this.autoTitle,this.stripProtocols),a=d(a,new RegExp("(mailto|skype):","ig"),null,this.maxLength,this.tagFill,this.autoTitle,this.stripProtocols),a=d(a,new RegExp("www\\.","ig"),"http://",this.maxLength,this.tagFill,this.autoTitle,this.stripProtocols)},c.prototype.linkEmail=function(a){return a=e(a,this.tagFill)},c.prototype.noConflict=function(){return a.AutoLink=b,c},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.AutoLink=c):"function"==typeof define&&define.amd?define(function(){return c}):a.AutoLink=c}).call(function(){return this||("undefined"!=typeof window?window:global)}());